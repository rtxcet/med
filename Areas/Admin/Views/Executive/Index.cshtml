@model List<ApplicationUser>

<div class="container">
	<div class="col-lg-12 col-xl-12 shadow my-4">
		@if (TempData["Message"] != null)
		{
			<div id="successMessage" class="alert alert-success alert-dismissible fade show shadow-sm fw-semibold" role="alert">
				<i class="fas fa-check-circle me-2"></i>
				@TempData["Message"]
			</div>
		}

	</div>
</div>

<div class="container">
	<div class="col-lg-12 col-xl-12 shadow my-4">
		<div class="card border-0">
			<div class="card-header bg-primary text-white py-3 d-flex justify-content-between align-items-center mb-2">
				<h6>Kullanıcı Ayarları</h6>
			</div>

			<div class="d-flex flex-column flex-md-row justify-content-center align-items-center mb-3 gap-2 px-1">
				<a asp-action="Add" class="btn btn-outline-success mt-2 w-100">
					<i class="fas fa-plus me-2"></i>Yeni Kullanıcı
				</a>
			</div>

			<div class="table-responsive px-1">
				<table class="table table-hover align-middle">
					<thead class="table-light">
						<tr>
							<th>Adı</th>
							<th class="text-end">İşlemler</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var item in Model)
						{
							<tr>
								<td>@item.UserName</td>
								<td class="text-end">
									<div class="btn-group" role="group">
										<a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-outline-primary btn-sm" title="Düzenle">
											<i class="fas fa-edit"></i>
										</a>
										<form asp-action="Delete" asp-route-id="@item.Id" method="post" onsubmit="return confirm('Silmek istediğinize emin misiniz?')" style="display:inline;">
											<button type="submit" class="btn btn-outline-danger btn-sm" title="Sil">
												<i class="fas fa-trash-alt"></i>
											</button>
										</form>
									</div>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
	<script>
		window.addEventListener('DOMContentLoaded', () => {
			const successMessage = document.getElementById('successMessage');
			if (successMessage) {
				setTimeout(() => {
					successMessage.classList.remove('show');
					successMessage.classList.add('fade');
					setTimeout(() => {
						successMessage.remove();
					}, 500);
				}, 7000);
			}
		});
	</script>
}
